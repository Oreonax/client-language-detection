/*!
 * Client Language detection plugin v1.0
 * Vanilla Javascript plugin for browser language detection with automatic redirection 
 *
 * https://github.com/Oreonax/client-language-detection
 *
 * Forked from: https://github.com/danieledesantis/jquery-language-detection/
 * Released under the MIT License
 * Copyright 2014 Daniele De Santis
 * 
 */
!function(){function e(e,t){if(t)(n=new Date).setDate(n.getDate()+t),n="; expires="+n.toUTCString();else var n="";document.cookie="languageDetection="+e+n+"; path=/"}function t(){var e=document.cookie,t=e.indexOf(" languageDetection=");if(-1==t&&(t=e.indexOf("languageDetection=")),-1==t)var n=null;else{var a=e.indexOf("=",t)+1,o=e.indexOf(";",t);-1==o&&(o=e.length),n=unescape(e.substring(a,o))}return n}Document.prototype.write,HTMLDocument.prototype.write;var n={init:function(e){var e=n.extend({domain:window.location.protocol+"//"+window.location.hostname+"/",useFullPaths:!1,languages:[{code:"en",path:"",defaultLanguage:!0}],expires:null},e);[].forEach.call(document.querySelectorAll(".language"),function(t){t.addEventListener("click",function(n){n.preventDefault(),document.languageDetection("setLanguage",e.domain,e.useFullPaths,e.languages,e.expires,t.getAttribute("data-language"))})});var a=t(),o=a||(navigator.language||navigator.userLanguage);n.setLanguage(e.domain,e.useFullPaths,e.languages,e.expires,o)},extend:function(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&("object"==typeof arguments[0][t]&&"object"==typeof arguments[e][t]?n.extend(arguments[0][t],arguments[e][t]):arguments[0][t]=arguments[e][t]);return arguments[0]},setLanguage:function(t,n,a,o,i){for(var u,r,l=0;l<a.length;l++)a[l].code==i.substr(0,2)&&(u=a[l].path,r=a[l].code);if(!u&&""!=u)for(l=0;l<a.length;l++)1==a[l].defaultLanguage&&(u=a[l].path,r=a[l].code);if(document.documentElement.getAttribute("lang")!=r){e(r,o);var c=n?u:t+u;window.location.replace(c)}}};Document.prototype.languageDetection=function(){var e=arguments[0];if(n[e])e=n[e],arguments=Array.prototype.slice.call(arguments,1);else{if("object"!=typeof e&&e)return console.error("Method "+e+" does not exist."),this;e=n.init}return e.apply(this,arguments)}}(document);